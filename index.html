<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>CLICK ABYSS</title>

<style>
:root{--accent:#00ff88}
*{box-sizing:border-box}

body{
  margin:0;
  font-family:Segoe UI,Arial;
  background:black;
  color:white;
  overflow:hidden;
}

header{text-align:center;padding:20px;z-index:2;position:relative}
h1{margin:0;font-size:42px}

#container{
  display:flex;
  justify-content:center;
  align-items:center;
  height:calc(100vh - 120px);
  position:relative;
  z-index:2;
}

#panel{
  background:rgba(0,0,0,.6);
  padding:30px;
  border-radius:18px;
  width:380px;
  text-align:center;
  box-shadow:0 0 40px rgba(0,255,136,.35);
  backdrop-filter: blur(6px);
}

button,input{
  padding:14px;
  font-size:16px;
  border-radius:10px;
  border:none;
  width:100%;
  margin:6px 0;
}

button{
  background:var(--accent);
  color:black;
  cursor:pointer;
}
button:hover{transform:scale(1.05)}

#clicks{font-size:36px;margin:15px 0}
#timer{opacity:.8}
#msg{min-height:24px;margin-top:10px}

.admin{display:none;margin-top:10px;border-top:1px solid #555;padding-top:10px}

#boss{
  display:none;
  position:fixed;
  inset:0;
  background:black;
  z-index:5;
  color:#00ff88;
  text-align:center;
  padding-top:20vh;
}

#matrix{position:fixed;inset:0;z-index:0}
</style>
</head>

<body>

<canvas id="matrix"></canvas>

<header>
  <h1>üñ±Ô∏è CLICK ABYSS</h1>
</header>

<div id="container">
  <div id="panel">

    <div id="timer">‚è±Ô∏è Temps : 0s</div>
    <div id="clicks">0 clics</div>

    <button id="clickBtn">CLIQUER</button>
    <button onclick="startBlitz()">‚ö° Blitz (1 min)</button>

    <div id="msg"></div>

    <input id="codeInput" placeholder="Code secret">
    <button onclick="useCode()">OK</button>

    <div class="admin" id="adminPanel">
      <b>ADMIN</b>
      <button onclick="toggleAutoClick()">ü§ñ Auto-clicker</button>
      <button onclick="toggleX100()">üí• 1 clic = 100</button>
    </div>

  </div>
</div>

<!-- BOSS -->
<div id="boss">
  <h1 id="bossTitle">LE MATRIXEUR</h1>
  <p id="bossText">Clique pour l'attaquer</p>
  <button onclick="attackBoss()">ATTAQUER</button>
</div>

<script>
// ================= ETAT =================
let clicks=0,time=0;
let blitz=false,blitzScore=0,savedClicks=0;
let autoClick=false,x100=false;
let bossPhase=0,bossHP=0;

// ================= TIMER =================
setInterval(()=>{
  time++;
  if(!blitz) timer.innerText="‚è±Ô∏è Temps : "+time+"s";
},1000);

// ================= CLICK =================
clickBtn.onclick=()=>{
  let gain=x100?100:1;

  if(blitz){
    blitzScore+=gain;
    clicksEl.innerText=blitzScore+" clics (BLITZ)";
  }else{
    clicks+=gain;
    clicksEl.innerText=clicks+" clics";
    checkBoss();
  }
};

// ================= BLITZ (FIX) =================
function startBlitz(){
  if(blitz) return;
  blitz=true;
  savedClicks=clicks;
  blitzScore=0;
  let t=60;
  clicksEl.innerText="0 clics (BLITZ)";
  msg.innerText="‚ö° BLITZ EN COURS";

  const i=setInterval(()=>{
    t--;
    timer.innerText="‚ö° Blitz : "+t+"s";
    if(t<=0){
      clearInterval(i);
      blitz=false;
      clicks=savedClicks;
      clicksEl.innerText=clicks+" clics";
      msg.innerText="‚ö° Blitz termin√© : "+blitzScore;
    }
  },1000);
}

// ================= ADMIN =================
function useCode(){
  if(codeInput.value==="516962"){
    adminPanel.style.display="block";
    msg.innerText="üõ†Ô∏è Admin activ√©";
  }else msg.innerText="‚ùå Code invalide";
}

function toggleAutoClick(){
  autoClick=!autoClick;
  if(autoClick) setInterval(()=>clickBtn.click(),40);
}

function toggleX100(){x100=!x100}

// ================= BOSS =================
function checkBoss(){
  if(clicks>=10_000_000 && bossPhase===0){
    bossPhase=1;
    bossHP=10000;
    boss.style.display="block";
    bossText.innerText="PHASE 1 : "+bossHP+" clics";
  }
}

function attackBoss(){
  if(clicks<=0) return;
  clicks--;
  bossHP--;
  clicksEl.innerText=clicks+" clics";
  bossText.innerText="HP : "+bossHP;

  if(bossHP<=0){
    if(bossPhase===1){
      bossPhase=2;
      bossHP=30000;
      bossTitle.innerText="LE MATRIXEUR ULTIME";
      bossText.innerText="PHASE 2 : "+bossHP;
    }else endGame();
  }
}

// ================= FIN =================
function endGame(){
  boss.innerHTML=`
    <h1>VOUS AVEZ BRIS√â LA MATRICE</h1>
    <p>Merci d'avoir jou√©.</p>
    <a href="#" style="color:#00ff88">‚û° Prochain jeu</a>
  `;
}

// ================= MATRIX =================
const canvas=matrix,ctx=canvas.getContext("2d");
function resize(){canvas.width=innerWidth;canvas.height=innerHeight}
resize();addEventListener("resize",resize);

const chars="01ABCDEFGHIJKLMNOPQRSTUVWXYZ#$%";
const size=16;
let cols=Math.floor(canvas.width/size);
let drops=Array(cols).fill(1);

setInterval(()=>{
  ctx.fillStyle="rgba(0,0,0,.05)";
  ctx.fillRect(0,0,canvas.width,canvas.height);
  ctx.fillStyle="#00ff88";
  ctx.font=size+"px monospace";
  drops.forEach((y,i)=>{
    ctx.fillText(chars[Math.random()*chars.length|0],i*size,y*size);
    if(y*size>canvas.height&&Math.random()>.98)drops[i]=0;
    drops[i]++;
  });
},33);
</script>

</body>
</html>
