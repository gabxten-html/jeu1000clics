<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>CLICK ABYSS</title>

<style>
:root{--green:#00ff88}
*{box-sizing:border-box}

body{
  margin:0;
  font-family:Segoe UI,Arial;
  background:black;
  color:white;
  overflow:hidden;
}

header{text-align:center;padding:15px;z-index:2;position:relative}
h1{margin:0;font-size:38px}

#container{
  display:flex;
  justify-content:center;
  align-items:center;
  height:calc(100vh - 100px);
  position:relative;
  z-index:2;
}

#panel{
  background:rgba(0,0,0,.65);
  padding:28px;
  border-radius:18px;
  width:380px;
  text-align:center;
  box-shadow:0 0 40px rgba(0,255,136,.35);
  backdrop-filter: blur(6px);
}

button,input{
  padding:14px;
  font-size:16px;
  border-radius:10px;
  border:none;
  width:100%;
  margin:6px 0;
}

button{
  background:var(--green);
  color:black;
  cursor:pointer;
}

#clicks{font-size:34px;margin:14px 0}
#timer{opacity:.8}
#msg{min-height:24px;margin-top:10px}

.admin{display:none;margin-top:10px;border-top:1px solid #555;padding-top:10px}

#rules{
  display:none;
  position:fixed;
  inset:0;
  background:black;
  color:var(--green);
  z-index:10;
  padding:40px;
  font-family:monospace;
}

#mobileToggle{
  position:fixed;
  right:10px;
  bottom:10px;
  background:#111;
  color:var(--green);
  padding:10px;
  border-radius:12px;
  font-size:14px;
  cursor:pointer;
  z-index:5;
}

.mobile button{font-size:20px;padding:20px}

#matrix{position:fixed;inset:0;z-index:0}

.resetFlash{
  background:#ff5555 !important;
  color:white !important;
}
</style>
</head>

<body>

<canvas id="matrix"></canvas>

<header>
  <h1>üñ±Ô∏è CLICK ABYSS</h1>
</header>

<div id="container">
  <div id="panel">

    <div id="timer">‚è±Ô∏è Temps : 0s</div>
    <div id="clicks">0 clics</div>

    <button id="clickBtn">CLIQUER</button>
    <button onclick="showRules('blitz')">‚ö° Blitz</button>
    <button onclick="showRules('hardcore')">üòà Hardcore</button>

    <div id="msg"></div>

    <input id="codeInput" placeholder="Code admin">
    <button onclick="useCode()">OK</button>

    <div class="admin" id="adminPanel">
      <button onclick="toggleAuto()">ü§ñ Auto-click</button>
      <button onclick="toggleX100()">üí• x100</button>
    </div>

  </div>
</div>

<div id="rules">
  <div id="rulesText"></div>
  <button onclick="startMode()">COMMENCER</button>
</div>

<div id="mobileToggle" onclick="toggleMobile()">üì± JE SUIS MOBILE</div>

<script>
// ========= ETAT =========
let clicks=0;
let standardTime=0;
let blitz=false,blitzScore=0,baseClicks=0;
let hardcore=false;
let auto=false,x100=false;
let pendingMode=null;

// ========= TIMER =========
setInterval(()=>{
  if(!blitz){
    standardTime++;
    timer.innerText="‚è±Ô∏è Temps : "+standardTime+"s";
  }
},1000);

// ========= CLICK =========
clickBtn.onclick=()=>{
  // HARDCORE RESET (15%)
  if(hardcore && Math.random()<0.15){
    triggerResetFlash();
    return;
  }

  let gain=x100?100:1;

  if(blitz){
    blitzScore+=gain;
    clicksEl.innerText=blitzScore+" (BLITZ)";
  }else{
    clicks+=gain;
    clicksEl.innerText=clicks+" clics";
  }
};

const clicksEl=document.getElementById("clicks");

// ========= RESET FLASH =========
function triggerResetFlash(){
  clickBtn.innerText="RESET";
  clickBtn.classList.add("resetFlash");

  setTimeout(()=>{
    clickBtn.innerText="CLIQUER";
    clickBtn.classList.remove("resetFlash");
  },1500);
}

// ========= RULES =========
function showRules(mode){
  pendingMode=mode;
  rules.style.display="block";
  rulesText.innerText =
    mode==="blitz"
    ? "MODE BLITZ\n\n‚Ä¢ 1 minute\n‚Ä¢ Score s√©par√©\n‚Ä¢ Le temps standard est PAUS√â\n‚Ä¢ Retour au score initial"
    : "MODE HARDCORE\n\n‚Ä¢ 15% chance RESET\n‚Ä¢ RESET visible 1,5s\n‚Ä¢ Aucun reset du score principal";
}

function startMode(){
  rules.style.display="none";
  if(pendingMode==="blitz") startBlitz();
  if(pendingMode==="hardcore") hardcore=true;
}

// ========= BLITZ =========
function startBlitz(){
  if(blitz) return;
  blitz=true;
  baseClicks=clicks;
  blitzScore=0;
  let t=60;
  clicksEl.innerText="0 (BLITZ)";

  const i=setInterval(()=>{
    t--;
    timer.innerText="‚ö° Blitz : "+t+"s";
    if(t<=0){
      clearInterval(i);
      blitz=false;
      msg.innerText="‚ö° Score Blitz : "+blitzScore;
      setTimeout(()=>{
        clicks=baseClicks;
        clicksEl.innerText=clicks+" clics";
      },2000);
    }
  },1000);
}

// ========= ADMIN =========
function useCode(){
  if(codeInput.value==="516962"){
    adminPanel.style.display="block";
    msg.innerText="üõ†Ô∏è ADMIN ACTIV√â";
  }
}

function toggleAuto(){
  auto=!auto;
  if(auto) setInterval(()=>clickBtn.click(),50);
}

function toggleX100(){x100=!x100}

// ========= MOBILE =========
function toggleMobile(){
  document.body.classList.toggle("mobile");
}

// ========= MATRIX =========
const canvas=matrix,ctx=canvas.getContext("2d");
function resize(){canvas.width=innerWidth;canvas.height=innerHeight}
resize();addEventListener("resize",resize);
const chars="01ABCDEFGHIJKLMNOPQRSTUVWXYZ#$%";
const size=16;
let cols=Math.floor(canvas.width/size);
let drops=Array(cols).fill(1);

setInterval(()=>{
  ctx.fillStyle="rgba(0,0,0,.05)";
  ctx.fillRect(0,0,canvas.width,canvas.height);
  ctx.fillStyle="#00ff88";
  ctx.font=size+"px monospace";
  drops.forEach((y,i)=>{
    ctx.fillText(chars[Math.random()*chars.length|0],i*size,y*size);
    if(y*size>canvas.height&&Math.random()>.98)drops[i]=0;
    drops[i]++;
  });
},33);
</script>

</body>
</html>
